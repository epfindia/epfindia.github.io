<!DOCTYPE html>
<html lang="en">
<head>
<title>Contacts</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<style>
.list-group {
	margin-bottom:0px;
}
</style>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js" type="text/javascript"></script>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular-cookies.js" type="text/javascript"></script>
</head>

<body>
    	<div class="container" ng-app="myApp" ng-controller="namesCtrl">
	<div class="btn-group">
			<a href="./" class="btn btn-sq-lg btn-default"><i class="fa fa-user"> Back</i></a>
</div>
	<h3>Contacts</h3>
		<h5>Wait 2-5 seconds to load</h5>

          <div class="panel panel-default">
            <div class="panel-heading">
              <input type="text" style="width:100%; padding:4px;" placeholder="Search by Office" ng-model="test" />
            </div>
          </div>

	  <div class="panel panel-success" ng-repeat="x in offices | filter:{'office':  test}">
			<div class="panel-heading">{{x.office}}</div>
			<div class="panel-body" style="padding-bottom:0px;">
				
	<div class="table-responsive">
            <table class="table table-condensed table-hover table-bordered table-striped">
              <thead>
                <tr>
                <th class="col-md-6" >Name</th>
		<th class="col-md-3">Phone</th>
		<th class="col-md-3">-</th>
                </tr>
              </thead>

              <tbody>
                <tr ng-repeat="y in x.officials">
                    <td scope="row" ng-repeat="z in y">{{z}}</td>
                  </tr>
              </tbody>
            </table>
          </div>
				
			</div>
</div>
</div>
<script type="text/javascript">
//<![CDATA[
  var app = angular.module('myApp', ['ngCookies']);
  app.controller('namesCtrl', ['$scope','$cookies','$cookieStore', '$http', function($scope,$cookies,$cookieStore, $http) {
                                 $scope.names = [];
                                 $scope.test='';

                                 $http({
                                   method: 'GET',
                                   url: 'contacts.json'
                                 }).then(function (success){
                                   $scope.offices = success.data;
                                 },function (error){
                                   console.log(error)
                                 });
                               }]);
  //]]>
  </script>
</body>
</html>
